{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/davidnaranjo/eas/eas-frontend/components/Page/Page.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport classNames from 'classnames/bind';\nimport Helmet from 'react-helmet';\nimport ReactGA from 'react-ga';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport i18n from 'i18next';\nimport withMixpanel from '../withMixpanel/withMixpanel.jsx'; // import Advert from '../Advert/Advert.jsx';\n\nimport PageLayout from './PageLayout.jsx';\nimport { hotjar } from '../../src/services/hotjar';\nimport { getExperimentsAllocation } from '../../src/services/abtest';\nimport config from '../../src/config/config';\nimport defaultOgImage from './logo_og.png';\nimport STYLES from './Page.module.scss';\nvar c = classNames.bind(STYLES);\n\nvar Page =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Page, _Component);\n\n  function Page() {\n    _classCallCheck(this, Page);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Page).apply(this, arguments));\n  }\n\n  _createClass(Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          mixpanel = _this$props.mixpanel,\n          pageType = _this$props.pageType,\n          location = _this$props.location,\n          enableHotjar = _this$props.enableHotjar;\n\n      if (config.googleAnalyticsEnabled) {\n        var page = location.pathname;\n        ReactGA.pageview(page);\n      }\n\n      if (config.mixpanelEnabled) {\n        mixpanel.track(\"Page Loaded - \".concat(pageType), _objectSpread({}, getExperimentsAllocation(), {\n          pageType: pageType\n        }));\n      }\n\n      if (config.hotjarEnabled && enableHotjar) {\n        hotjar.initialize(1051921, 6);\n      }\n    }\n  }, {\n    key: \"getAbsoluteUrl\",\n    value: function getAbsoluteUrl() {\n      var _this$props2 = this.props,\n          location = _this$props2.location,\n          hostname = _this$props2.hostname;\n      return \"https://\".concat(hostname).concat(location.pathname);\n    }\n  }, {\n    key: \"getMetaTags\",\n    value: function getMetaTags() {\n      var _this$props3 = this.props,\n          htmlTitle = _this$props3.htmlTitle,\n          htmlDescription = _this$props3.htmlDescription,\n          htmlKeywords = _this$props3.htmlKeywords,\n          noIndex = _this$props3.noIndex,\n          ogImage = _this$props3.ogImage;\n      var shouldIndexPage = config.indexPages && !noIndex;\n      var pageTitle = htmlTitle.substring(0, 60);\n      var pageDescription = htmlDescription.substring(0, 155);\n      var absoluteUrl = this.getAbsoluteUrl();\n      var metaTags = [{\n        name: 'description',\n        content: pageDescription\n      }, {\n        name: 'keywords',\n        content: htmlKeywords\n      }, {\n        property: 'og:title',\n        content: pageTitle\n      }, {\n        property: 'og:image',\n        content: config.OGImagesFullDomain + ogImage\n      }, {\n        property: 'og:description',\n        content: pageDescription\n      }, {\n        property: 'og:url',\n        content: absoluteUrl\n      }, {\n        property: 'og:type',\n        content: 'website'\n      }, {\n        property: 'fb:app_id',\n        content: config.facebookAppId\n      }];\n\n      if (!shouldIndexPage) {\n        metaTags.push({\n          name: 'robots',\n          content: 'noindex'\n        });\n      }\n\n      return metaTags;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          htmlTitle = _this$props4.htmlTitle,\n          contentClassName = _this$props4.contentClassName,\n          children = _this$props4.children,\n          showAdvert = _this$props4.showAdvert,\n          sidePanel = _this$props4.sidePanel;\n      var absoluteUrl = this.getAbsoluteUrl();\n      var canonicalLinks = [{\n        rel: 'canonical',\n        href: absoluteUrl\n      }];\n      return __jsx(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __jsx(Helmet, {\n        title: htmlTitle,\n        htmlAttributes: {\n          lang: i18n.language,\n          itemtype: 'http://schema.org/WebPage'\n        },\n        link: canonicalLinks,\n        meta: this.getMetaTags(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: c('Page'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, __jsx(PageLayout, {\n        sidePanel: sidePanel,\n        contentClassName: contentClassName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, children)));\n    }\n  }]);\n\n  return Page;\n}(Component);\n\nPage.propTypes = {\n  htmlTitle: PropTypes.string.isRequired,\n  htmlDescription: PropTypes.string,\n  htmlKeywords: PropTypes.string,\n  pageType: PropTypes.string.isRequired,\n  enableHotjar: PropTypes.bool,\n  contentClassName: PropTypes.string,\n  mixpanel: PropTypes.shape({\n    track: PropTypes.func.isRequired\n  }),\n  children: PropTypes.node.isRequired,\n  noIndex: PropTypes.bool,\n  location: ReactRouterPropTypes.location.isRequired,\n  ogImage: PropTypes.node,\n  hostname: PropTypes.string.isRequired,\n  showAdvert: PropTypes.bool,\n  sidePanel: PropTypes.node\n};\nPage.defaultProps = {\n  contentClassName: null,\n  noIndex: false,\n  ogImage: defaultOgImage,\n  htmlKeywords: '',\n  htmlDescription: '',\n  enableHotjar: false,\n  showAdvert: true,\n  mixpanel: null,\n  sidePanel: null\n};\n\nvar mapsStateToProps = function mapsStateToProps(state) {\n  return {\n    hostname: state.userRequest.hostname\n  };\n};\n\nexport default withMixpanel(withRouter(connect(mapsStateToProps)(Page)));","map":{"version":3,"sources":["/Users/davidnaranjo/eas/eas-frontend/components/Page/Page.jsx"],"names":["React","Component","Fragment","PropTypes","ReactRouterPropTypes","classNames","Helmet","ReactGA","connect","withRouter","i18n","withMixpanel","PageLayout","hotjar","getExperimentsAllocation","config","defaultOgImage","STYLES","c","bind","Page","props","mixpanel","pageType","location","enableHotjar","googleAnalyticsEnabled","page","pathname","pageview","mixpanelEnabled","track","hotjarEnabled","initialize","hostname","htmlTitle","htmlDescription","htmlKeywords","noIndex","ogImage","shouldIndexPage","indexPages","pageTitle","substring","pageDescription","absoluteUrl","getAbsoluteUrl","metaTags","name","content","property","OGImagesFullDomain","facebookAppId","push","contentClassName","children","showAdvert","sidePanel","canonicalLinks","rel","href","lang","language","itemtype","getMetaTags","propTypes","string","isRequired","bool","shape","func","node","defaultProps","mapsStateToProps","state","userRequest"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,YAAP,MAAyB,kCAAzB,C,CACA;;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,SAASC,MAAT,QAAuB,2BAAvB;AACA,SAASC,wBAAT,QAAyC,2BAAzC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,cAAP,MAA2B,eAA3B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,IAAMC,CAAC,GAAGb,UAAU,CAACc,IAAX,CAAgBF,MAAhB,CAAV;;IAEMG,I;;;;;;;;;;;;;wCACgB;AAAA,wBACqC,KAAKC,KAD1C;AAAA,UACVC,QADU,eACVA,QADU;AAAA,UACAC,QADA,eACAA,QADA;AAAA,UACUC,QADV,eACUA,QADV;AAAA,UACoBC,YADpB,eACoBA,YADpB;;AAElB,UAAIV,MAAM,CAACW,sBAAX,EAAmC;AACjC,YAAMC,IAAI,GAAGH,QAAQ,CAACI,QAAtB;AACArB,QAAAA,OAAO,CAACsB,QAAR,CAAiBF,IAAjB;AACD;;AACD,UAAIZ,MAAM,CAACe,eAAX,EAA4B;AAC1BR,QAAAA,QAAQ,CAACS,KAAT,yBAAgCR,QAAhC,qBACKT,wBAAwB,EAD7B;AAEES,UAAAA,QAAQ,EAARA;AAFF;AAID;;AACD,UAAIR,MAAM,CAACiB,aAAP,IAAwBP,YAA5B,EAA0C;AACxCZ,QAAAA,MAAM,CAACoB,UAAP,CAAkB,OAAlB,EAA2B,CAA3B;AACD;AACF;;;qCAEgB;AAAA,yBACgB,KAAKZ,KADrB;AAAA,UACPG,QADO,gBACPA,QADO;AAAA,UACGU,QADH,gBACGA,QADH;AAEf,+BAAkBA,QAAlB,SAA6BV,QAAQ,CAACI,QAAtC;AACD;;;kCAEa;AAAA,yBAC2D,KAAKP,KADhE;AAAA,UACJc,SADI,gBACJA,SADI;AAAA,UACOC,eADP,gBACOA,eADP;AAAA,UACwBC,YADxB,gBACwBA,YADxB;AAAA,UACsCC,OADtC,gBACsCA,OADtC;AAAA,UAC+CC,OAD/C,gBAC+CA,OAD/C;AAEZ,UAAMC,eAAe,GAAGzB,MAAM,CAAC0B,UAAP,IAAqB,CAACH,OAA9C;AACA,UAAMI,SAAS,GAAGP,SAAS,CAACQ,SAAV,CAAoB,CAApB,EAAuB,EAAvB,CAAlB;AACA,UAAMC,eAAe,GAAGR,eAAe,CAACO,SAAhB,CAA0B,CAA1B,EAA6B,GAA7B,CAAxB;AACA,UAAME,WAAW,GAAG,KAAKC,cAAL,EAApB;AACA,UAAMC,QAAQ,GAAG,CACf;AAAEC,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,OAAO,EAAEL;AAAhC,OADe,EAEf;AAAEI,QAAAA,IAAI,EAAE,UAAR;AAAoBC,QAAAA,OAAO,EAAEZ;AAA7B,OAFe,EAGf;AAAEa,QAAAA,QAAQ,EAAE,UAAZ;AAAwBD,QAAAA,OAAO,EAAEP;AAAjC,OAHe,EAIf;AAAEQ,QAAAA,QAAQ,EAAE,UAAZ;AAAwBD,QAAAA,OAAO,EAAElC,MAAM,CAACoC,kBAAP,GAA4BZ;AAA7D,OAJe,EAKf;AAAEW,QAAAA,QAAQ,EAAE,gBAAZ;AAA8BD,QAAAA,OAAO,EAAEL;AAAvC,OALe,EAMf;AAAEM,QAAAA,QAAQ,EAAE,QAAZ;AAAsBD,QAAAA,OAAO,EAAEJ;AAA/B,OANe,EAOf;AAAEK,QAAAA,QAAQ,EAAE,SAAZ;AAAuBD,QAAAA,OAAO,EAAE;AAAhC,OAPe,EAQf;AAAEC,QAAAA,QAAQ,EAAE,WAAZ;AAAyBD,QAAAA,OAAO,EAAElC,MAAM,CAACqC;AAAzC,OARe,CAAjB;;AAWA,UAAI,CAACZ,eAAL,EAAsB;AACpBO,QAAAA,QAAQ,CAACM,IAAT,CAAc;AAAEL,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAd;AACD;;AAED,aAAOF,QAAP;AACD;;;6BAEQ;AAAA,yBACkE,KAAK1B,KADvE;AAAA,UACCc,SADD,gBACCA,SADD;AAAA,UACYmB,gBADZ,gBACYA,gBADZ;AAAA,UAC8BC,QAD9B,gBAC8BA,QAD9B;AAAA,UACwCC,UADxC,gBACwCA,UADxC;AAAA,UACoDC,SADpD,gBACoDA,SADpD;AAEP,UAAMZ,WAAW,GAAG,KAAKC,cAAL,EAApB;AACA,UAAMY,cAAc,GAAG,CACrB;AACEC,QAAAA,GAAG,EAAE,WADP;AAEEC,QAAAA,IAAI,EAAEf;AAFR,OADqB,CAAvB;AAMA,aACE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,MAAD;AACE,QAAA,KAAK,EAAEV,SADT;AAEE,QAAA,cAAc,EAAE;AACd0B,UAAAA,IAAI,EAAEnD,IAAI,CAACoD,QADG;AAEdC,UAAAA,QAAQ,EAAE;AAFI,SAFlB;AAME,QAAA,IAAI,EAAEL,cANR;AAOE,QAAA,IAAI,EAAE,KAAKM,WAAL,EAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAUE;AAAK,QAAA,SAAS,EAAE9C,CAAC,CAAC,MAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,UAAD;AAAY,QAAA,SAAS,EAAEuC,SAAvB;AAAkC,QAAA,gBAAgB,EAAEH,gBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,QADH,CADF,CAVF,CADF;AAoBD;;;;EA5EgBtD,S;;AA+EnBmB,IAAI,CAAC6C,SAAL,GAAiB;AACf9B,EAAAA,SAAS,EAAEhC,SAAS,CAAC+D,MAAV,CAAiBC,UADb;AAEf/B,EAAAA,eAAe,EAAEjC,SAAS,CAAC+D,MAFZ;AAGf7B,EAAAA,YAAY,EAAElC,SAAS,CAAC+D,MAHT;AAIf3C,EAAAA,QAAQ,EAAEpB,SAAS,CAAC+D,MAAV,CAAiBC,UAJZ;AAKf1C,EAAAA,YAAY,EAAEtB,SAAS,CAACiE,IALT;AAMfd,EAAAA,gBAAgB,EAAEnD,SAAS,CAAC+D,MANb;AAOf5C,EAAAA,QAAQ,EAAEnB,SAAS,CAACkE,KAAV,CAAgB;AAAEtC,IAAAA,KAAK,EAAE5B,SAAS,CAACmE,IAAV,CAAeH;AAAxB,GAAhB,CAPK;AAQfZ,EAAAA,QAAQ,EAAEpD,SAAS,CAACoE,IAAV,CAAeJ,UARV;AASf7B,EAAAA,OAAO,EAAEnC,SAAS,CAACiE,IATJ;AAUf5C,EAAAA,QAAQ,EAAEpB,oBAAoB,CAACoB,QAArB,CAA8B2C,UAVzB;AAWf5B,EAAAA,OAAO,EAAEpC,SAAS,CAACoE,IAXJ;AAYfrC,EAAAA,QAAQ,EAAE/B,SAAS,CAAC+D,MAAV,CAAiBC,UAZZ;AAafX,EAAAA,UAAU,EAAErD,SAAS,CAACiE,IAbP;AAcfX,EAAAA,SAAS,EAAEtD,SAAS,CAACoE;AAdN,CAAjB;AAiBAnD,IAAI,CAACoD,YAAL,GAAoB;AAClBlB,EAAAA,gBAAgB,EAAE,IADA;AAElBhB,EAAAA,OAAO,EAAE,KAFS;AAGlBC,EAAAA,OAAO,EAAEvB,cAHS;AAIlBqB,EAAAA,YAAY,EAAE,EAJI;AAKlBD,EAAAA,eAAe,EAAE,EALC;AAMlBX,EAAAA,YAAY,EAAE,KANI;AAOlB+B,EAAAA,UAAU,EAAE,IAPM;AAQlBlC,EAAAA,QAAQ,EAAE,IARQ;AASlBmC,EAAAA,SAAS,EAAE;AATO,CAApB;;AAYA,IAAMgB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,KAAK;AAAA,SAAK;AACjCxC,IAAAA,QAAQ,EAAEwC,KAAK,CAACC,WAAN,CAAkBzC;AADK,GAAL;AAAA,CAA9B;;AAIA,eAAevB,YAAY,CAACF,UAAU,CAACD,OAAO,CAACiE,gBAAD,CAAP,CAA0BrD,IAA1B,CAAD,CAAX,CAA3B","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactRouterPropTypes from 'react-router-prop-types';\nimport classNames from 'classnames/bind';\nimport Helmet from 'react-helmet';\nimport ReactGA from 'react-ga';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport i18n from 'i18next';\nimport withMixpanel from '../withMixpanel/withMixpanel.jsx';\n// import Advert from '../Advert/Advert.jsx';\nimport PageLayout from './PageLayout.jsx';\nimport { hotjar } from '../../src/services/hotjar';\nimport { getExperimentsAllocation } from '../../src/services/abtest';\nimport config from '../../src/config/config';\nimport defaultOgImage from './logo_og.png';\nimport STYLES from './Page.module.scss';\n\nconst c = classNames.bind(STYLES);\n\nclass Page extends Component {\n  componentDidMount() {\n    const { mixpanel, pageType, location, enableHotjar } = this.props;\n    if (config.googleAnalyticsEnabled) {\n      const page = location.pathname;\n      ReactGA.pageview(page);\n    }\n    if (config.mixpanelEnabled) {\n      mixpanel.track(`Page Loaded - ${pageType}`, {\n        ...getExperimentsAllocation(),\n        pageType,\n      });\n    }\n    if (config.hotjarEnabled && enableHotjar) {\n      hotjar.initialize(1051921, 6);\n    }\n  }\n\n  getAbsoluteUrl() {\n    const { location, hostname } = this.props;\n    return `https://${hostname}${location.pathname}`;\n  }\n\n  getMetaTags() {\n    const { htmlTitle, htmlDescription, htmlKeywords, noIndex, ogImage } = this.props;\n    const shouldIndexPage = config.indexPages && !noIndex;\n    const pageTitle = htmlTitle.substring(0, 60);\n    const pageDescription = htmlDescription.substring(0, 155);\n    const absoluteUrl = this.getAbsoluteUrl();\n    const metaTags = [\n      { name: 'description', content: pageDescription },\n      { name: 'keywords', content: htmlKeywords },\n      { property: 'og:title', content: pageTitle },\n      { property: 'og:image', content: config.OGImagesFullDomain + ogImage },\n      { property: 'og:description', content: pageDescription },\n      { property: 'og:url', content: absoluteUrl },\n      { property: 'og:type', content: 'website' },\n      { property: 'fb:app_id', content: config.facebookAppId },\n    ];\n\n    if (!shouldIndexPage) {\n      metaTags.push({ name: 'robots', content: 'noindex' });\n    }\n\n    return metaTags;\n  }\n\n  render() {\n    const { htmlTitle, contentClassName, children, showAdvert, sidePanel } = this.props;\n    const absoluteUrl = this.getAbsoluteUrl();\n    const canonicalLinks = [\n      {\n        rel: 'canonical',\n        href: absoluteUrl,\n      },\n    ];\n    return (\n      <Fragment>\n        <Helmet\n          title={htmlTitle}\n          htmlAttributes={{\n            lang: i18n.language,\n            itemtype: 'http://schema.org/WebPage',\n          }}\n          link={canonicalLinks}\n          meta={this.getMetaTags()}\n        />\n        <div className={c('Page')}>\n          <PageLayout sidePanel={sidePanel} contentClassName={contentClassName}>\n            {children}\n          </PageLayout>\n          {/* {showAdvert && <Advert />} */}\n          {/* //TODO fix that */}\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nPage.propTypes = {\n  htmlTitle: PropTypes.string.isRequired,\n  htmlDescription: PropTypes.string,\n  htmlKeywords: PropTypes.string,\n  pageType: PropTypes.string.isRequired,\n  enableHotjar: PropTypes.bool,\n  contentClassName: PropTypes.string,\n  mixpanel: PropTypes.shape({ track: PropTypes.func.isRequired }),\n  children: PropTypes.node.isRequired,\n  noIndex: PropTypes.bool,\n  location: ReactRouterPropTypes.location.isRequired,\n  ogImage: PropTypes.node,\n  hostname: PropTypes.string.isRequired,\n  showAdvert: PropTypes.bool,\n  sidePanel: PropTypes.node,\n};\n\nPage.defaultProps = {\n  contentClassName: null,\n  noIndex: false,\n  ogImage: defaultOgImage,\n  htmlKeywords: '',\n  htmlDescription: '',\n  enableHotjar: false,\n  showAdvert: true,\n  mixpanel: null,\n  sidePanel: null,\n};\n\nconst mapsStateToProps = state => ({\n  hostname: state.userRequest.hostname,\n});\n\nexport default withMixpanel(withRouter(connect(mapsStateToProps)(Page)));\n"]},"metadata":{},"sourceType":"module"}